<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tumblr Otomatik Beğeni Modülü</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .log-area {
            height: 250px; 
            background-color: #1e293b; /* bg-slate-800 */
            color: #94a3b8; /* text-slate-400 */
            font-family: monospace; font-size: 0.875rem; /* text-sm */
            padding: 0.75rem; /* p-3 */
            border-radius: 0.375rem; /* rounded-md */
            overflow-y: auto;
            white-space: pre-wrap;
            border: 1px solid #334155; /* border-slate-700 */
        }
        .progress-bar-container {
            width: 100%; background-color: #e5e7eb; /* bg-gray-200 */
            border-radius: 0.5rem; /* rounded-lg */
            overflow: hidden;
            height: 2rem; /* h-8 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .progress-bar {
            width: 0%; background-color: #4f46e5; /* bg-indigo-600 */
            height: 100%; 
            transition: width 0.3s ease-in-out;
            display: flex; align-items: center; justify-content: center;
            color: white; font-weight: 500; /* font-medium */
        }
        .param-group legend { 
            font-weight: 600; /* font-semibold */
            color: #334155; /* text-slate-700 */
            padding-left: 0.25rem; /* px-1 */
            padding-right: 0.25rem; /* px-1 */
        }
        .user-select-container-module {
            background-color: #fff; /* bg-white */
            padding: 1rem; /* p-4 */
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1); /* shadow-md */
            margin-bottom: 1.5rem; /* mb-6 */
        }
        .last-liked-post {
            margin-top: 1rem; /* mt-4 */
            padding: 0.75rem; /* p-3 */
            background-color: #f9fafb; /* bg-gray-50 */
            border: 1px solid #e5e7eb; /* border-gray-200 */
            border-radius: 0.375rem; /* rounded-md */
            font-size: 0.875rem; /* text-sm */
        }
        .last-liked-post img {
            max-width: 80px; /* Biraz küçültüldü */
            max-height: 80px;
            object-fit: cover;
            border-radius: 0.25rem; /* rounded-sm */
            margin-right: 0.75rem; /* mr-3 */
            float: left; 
        }
        .last-liked-post p { margin-bottom: 0.25rem; /* mb-1 */ }
        .last-liked-post a { color: #4f46e5; /* text-indigo-600 */ text-decoration: underline; }
        .last-liked-post::after { /* Clearfix for floated image */
            content: "";
            clear: both;
            display: table;
        }
    </style>
</head>
<body class="bg-slate-100 min-h-screen">
    <nav class="bg-slate-800 text-white shadow-md sticky top-0 z-[999]">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <a href="/index.html" class="font-semibold text-xl hover:text-indigo-300">Tumblr Uygulamam</a>
                <span class="text-lg font-medium">Otomatik Beğeni Modülü</span>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8">
        <div class="user-select-container-module">
            <label for="moduleUserSelector" class="block text-sm font-medium text-slate-700 mb-1">İşlem Yapılacak Kullanıcıyı Seçin:</label>
            <select id="moduleUserSelector" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md shadow-sm">
                <option value="">Lütfen bir kullanıcı seçin...</option>
                </select>
            <p id="noUserSelectedWarning" class="text-xs text-red-600 mt-1" style="display: none;">Lütfen işlem yapmak için bir kullanıcı seçin.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="md:col-span-1 bg-white p-6 rounded-xl shadow-lg self-start md:sticky md:top-24">
                <h2 class="text-xl font-semibold text-slate-700 mb-4">Ayarlar</h2>
                <div class="space-y-4">
                    <fieldset class="border border-slate-300 p-3 rounded-md param-group">
                        <legend class="px-1 text-sm">Genel Ayarlar</legend>
                        <div>
                            <label for="delayBetweenLikes" class="block text-sm font-medium text-slate-700">Beğeniler Arası Gecikme (ms):</label>
                            <input type="number" id="delayBetweenLikes" value="2000" min="500" step="100" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        <div class="mt-2">
                            <label for="maxTotalLikes" class="block text-sm font-medium text-slate-700">Maksimum Toplam Beğeni:</label>
                            <input type="number" id="maxTotalLikes" value="1000" min="1" max="1000" step="10" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                    </fieldset>

                    <fieldset class="border border-slate-300 p-3 rounded-md param-group">
                        <legend class="px-1 text-sm">Panel (Dashboard) Ayarları</legend>
                        <div>
                            <label for="dashboardPostCount" class="block text-sm font-medium text-slate-700">Panelden Kaç Gönderi Taranacak (her döngüde):</label>
                            <input type="number" id="dashboardPostCount" value="20" min="1" max="50" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                    </fieldset>

                    <fieldset class="border border-slate-300 p-3 rounded-md param-group">
                        <legend class="px-1 text-sm">Reblog Yapan Kullanıcı Ayarları</legend>
                        <div>
                            <label for="rebloggersToProcess" class="block text-sm font-medium text-slate-700">Her Panel Gönderisinden Kaç Reblog Yapan Taranacak:</label>
                            <input type="number" id="rebloggersToProcess" value="3" min="0" max="10" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        <div class="mt-2">
                            <label for="originalPostsToLikePerReblogger" class="block text-sm font-medium text-slate-700">Reblog Yapanın Kaç Orijinal Gönderisi Beğenilecek:</label>
                            <input type="number" id="originalPostsToLikePerReblogger" value="2" min="0" max="10" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                         <div class="mt-2">
                            <label for="maxLikesFromOneReblogger" class="block text-sm font-medium text-slate-700">Bir Reblog Yapandan Max Kaç Gönderi Beğenilsin:</label>
                            <input type="number" id="maxLikesFromOneReblogger" value="5" min="1" max="20" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        <div class="mt-2">
                            <label for="reblogMaxAgeDays" class="block text-sm font-medium text-slate-700">İşlenecek Ana Gönderi Max Kaç Günlük Olsun (0=limitsiz):</label>
                            <input type="number" id="reblogMaxAgeDays" value="7" min="0" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                    </fieldset>
                    
                    <div class="mt-6">
                        <button id="startButton" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-150 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Otomatik Beğeniyi Başlat
                        </button>
                        <button id="stopButton" class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-150 mt-2" style="display: none;">
                            Durdur
                        </button>
                    </div>
                </div>
                 <p class="mt-4 text-xs text-red-600 bg-red-100 p-2 rounded-md">
                    <strong>Uyarı:</strong> Bu modül, Tumblr API limitlerini aşabilir ve hesabınızın kısıtlanmasına neden olabilir. Dikkatli kullanın. Geliştirici, olası sonuçlardan sorumlu değildir.
                </p>
            </div>

            <div class="md:col-span-2">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h2 class="text-xl font-semibold text-slate-700 mb-3">İlerleme</h2>
                    <div class="progress-bar-container">
                        <div id="progressBar" class="progress-bar">0%</div>
                    </div>
                    <p class="text-sm text-slate-600 text-center mb-6">Toplam <span id="currentLikesCount">0</span> / <span id="maxLikesTarget">1000</span> beğeni yapıldı.</p>
                    
                    <h2 class="text-xl font-semibold text-slate-700 mb-3">Loglar</h2>
                    <div id="logArea" class="log-area">Modül başlatılmaya hazır... Lütfen işlem yapılacak kullanıcıyı seçin.</div>
                    
                    <div id="lastLikedPostArea" class="last-liked-post" style="display: none;">
                        <h4 class="font-semibold text-slate-700 mb-1">Son Beğenilen:</h4>
                        <img id="lastLikedPostImage" src="https://placehold.co/80x80/e0e0e0/909090?text=G%C3%B6rsel" alt="Son Beğenilen Gönderi">
                        <p id="lastLikedPostBlog" class="text-slate-600"></p>
                        <p id="lastLikedPostSummary" class="text-slate-800"></p>
                        <a id="lastLikedPostLink" href="#" target="_blank" class="text-xs hover:text-indigo-700">Gönderiye Git &rarr;</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="auto_liker_client.js"></script>
</body>
</html>
